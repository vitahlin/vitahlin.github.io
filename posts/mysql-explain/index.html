<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Mysql explain命令详解 - Vitah Lin</title><meta name=description content="测试数据 DROP TABLE IF EXISTS `actor`; CREATE TABLE `actor` (  `id` int(11) NOT NULL,  `name` varchar(45) DEFAULT NULL,  `update_time` datetime DEFAULT NULL,  PRIMARY KEY (`id`) ) ENGINE = InnoDB  DEFAULT CHARSET = utf8;  INSERT INTO `actor` (`id`, `name`, `update_time`) VALUES (1, 'a', '2017-12-29 10:27:18'),  (2, 'b', '2017-12-29 15:27:18'),  (3, 'c', '2017-12-29 15:27:18');  DROP TABLE IF EXISTS `film`; CREATE TABLE `film` (  `id` int(11) NOT NULL AUTO_INCREMENT,  `name` varchar(10) DEFAULT NULL,  PRIMARY KEY (`id`),  KEY `idx_name` (`name`) ) ENGINE = InnoDB  DEFAULT CHARSET = utf8;  INSERT INTO `film` (`id`, `name`) VALUES (3, 'film0'),  (1, 'film1'),  (2, 'film2'); "><meta name=author content="vitahlin"><link rel="preload stylesheet" as=style href=https://www.vitahlin.com/app.min.css><link rel="preload stylesheet" as=style href=https://www.vitahlin.com/an-old-hope.min.css><script defer src=https://www.vitahlin.com/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=preload as=image href=https://www.vitahlin.com/theme.png><link rel=preload as=image href=https://www.vitahlin.com/github.svg><link rel=icon href=https://www.vitahlin.com/favicon.ico><link rel=apple-touch-icon href=https://www.vitahlin.com/apple-touch-icon.png><meta name=generator content="Hugo 0.96.0"><meta property="og:title" content="Mysql explain命令详解"><meta property="og:description" content="测试数据 DROP TABLE IF EXISTS `actor`; CREATE TABLE `actor` (  `id` int(11) NOT NULL,  `name` varchar(45) DEFAULT NULL,  `update_time` datetime DEFAULT NULL,  PRIMARY KEY (`id`) ) ENGINE = InnoDB  DEFAULT CHARSET = utf8;  INSERT INTO `actor` (`id`, `name`, `update_time`) VALUES (1, 'a', '2017-12-29 10:27:18'),  (2, 'b', '2017-12-29 15:27:18'),  (3, 'c', '2017-12-29 15:27:18');  DROP TABLE IF EXISTS `film`; CREATE TABLE `film` (  `id` int(11) NOT NULL AUTO_INCREMENT,  `name` varchar(10) DEFAULT NULL,  PRIMARY KEY (`id`),  KEY `idx_name` (`name`) ) ENGINE = InnoDB  DEFAULT CHARSET = utf8;  INSERT INTO `film` (`id`, `name`) VALUES (3, 'film0'),  (1, 'film1'),  (2, 'film2'); "><meta property="og:type" content="article"><meta property="og:url" content="https://www.vitahlin.com/posts/mysql-explain/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-05T21:57:40+08:00"><meta property="article:modified_time" content="2022-04-05T16:45:40+08:00"><meta itemprop=name content="Mysql explain命令详解"><meta itemprop=description content="测试数据 DROP TABLE IF EXISTS `actor`; CREATE TABLE `actor` (  `id` int(11) NOT NULL,  `name` varchar(45) DEFAULT NULL,  `update_time` datetime DEFAULT NULL,  PRIMARY KEY (`id`) ) ENGINE = InnoDB  DEFAULT CHARSET = utf8;  INSERT INTO `actor` (`id`, `name`, `update_time`) VALUES (1, 'a', '2017-12-29 10:27:18'),  (2, 'b', '2017-12-29 15:27:18'),  (3, 'c', '2017-12-29 15:27:18');  DROP TABLE IF EXISTS `film`; CREATE TABLE `film` (  `id` int(11) NOT NULL AUTO_INCREMENT,  `name` varchar(10) DEFAULT NULL,  PRIMARY KEY (`id`),  KEY `idx_name` (`name`) ) ENGINE = InnoDB  DEFAULT CHARSET = utf8;  INSERT INTO `film` (`id`, `name`) VALUES (3, 'film0'),  (1, 'film1'),  (2, 'film2'); "><meta itemprop=datePublished content="2022-04-05T21:57:40+08:00"><meta itemprop=dateModified content="2022-04-05T16:45:40+08:00"><meta itemprop=wordCount content="96"><meta itemprop=keywords content="mysql,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Mysql explain命令详解"><meta name=twitter:description content="测试数据 DROP TABLE IF EXISTS `actor`; CREATE TABLE `actor` (  `id` int(11) NOT NULL,  `name` varchar(45) DEFAULT NULL,  `update_time` datetime DEFAULT NULL,  PRIMARY KEY (`id`) ) ENGINE = InnoDB  DEFAULT CHARSET = utf8;  INSERT INTO `actor` (`id`, `name`, `update_time`) VALUES (1, 'a', '2017-12-29 10:27:18'),  (2, 'b', '2017-12-29 15:27:18'),  (3, 'c', '2017-12-29 15:27:18');  DROP TABLE IF EXISTS `film`; CREATE TABLE `film` (  `id` int(11) NOT NULL AUTO_INCREMENT,  `name` varchar(10) DEFAULT NULL,  PRIMARY KEY (`id`),  KEY `idx_name` (`name`) ) ENGINE = InnoDB  DEFAULT CHARSET = utf8;  INSERT INTO `film` (`id`, `name`) VALUES (3, 'film0'),  (1, 'film1'),  (2, 'film2'); "></head><body class=not-ready data-menu=true><header class=header><p class=logo><a class=site-name href=https://www.vitahlin.com/>Vitah Lin</a><a class=btn-dark></a></p><script>let bodyClx=document.body.classList,btnDark=document.querySelector(".btn-dark"),sysDark=window.matchMedia("(prefers-color-scheme: dark)"),darkVal=localStorage.getItem("dark"),setDark=e=>{bodyClx[e?"add":"remove"]("dark"),localStorage.setItem("dark",e?"yes":"no")};setDark(darkVal?darkVal==="yes":sysDark.matches),requestAnimationFrame(()=>bodyClx.remove("not-ready")),btnDark.addEventListener("click",()=>setDark(!bodyClx.contains("dark"))),sysDark.addEventListener("change",e=>setDark(e.matches))</script><nav class=menu><a href=/about/>About</a></nav><nav class=social><a class=github style=--url:url(./github.svg) href=https://github.com/vitahlin target=_blank></a></nav></header><main class=main><article class=post-single><header class=post-title><p><time>Apr 5, 2022</time>
<span>vitahlin</span></p><h1>Mysql explain命令详解</h1></header><section class=post-content><h2 id=测试数据>测试数据</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>EXISTS</span> <span style=color:#f92672>`</span>actor<span style=color:#f92672>`</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#f92672>`</span>actor<span style=color:#f92672>`</span>
</span></span><span style=display:flex><span>(
</span></span><span style=display:flex><span>    <span style=color:#f92672>`</span>id<span style=color:#f92672>`</span>          int(<span style=color:#ae81ff>11</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>`</span>name<span style=color:#f92672>`</span>        varchar(<span style=color:#ae81ff>45</span>) <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>`</span>update_time<span style=color:#f92672>`</span> datetime    <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> (<span style=color:#f92672>`</span>id<span style=color:#f92672>`</span>)
</span></span><span style=display:flex><span>) ENGINE <span style=color:#f92672>=</span> InnoDB
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>DEFAULT</span> CHARSET <span style=color:#f92672>=</span> utf8;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#f92672>`</span>actor<span style=color:#f92672>`</span> (<span style=color:#f92672>`</span>id<span style=color:#f92672>`</span>, <span style=color:#f92672>`</span>name<span style=color:#f92672>`</span>, <span style=color:#f92672>`</span>update_time<span style=color:#f92672>`</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>VALUES</span> (<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;a&#39;</span>, <span style=color:#e6db74>&#39;2017-12-29 10:27:18&#39;</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;b&#39;</span>, <span style=color:#e6db74>&#39;2017-12-29 15:27:18&#39;</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#39;c&#39;</span>, <span style=color:#e6db74>&#39;2017-12-29 15:27:18&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>EXISTS</span> <span style=color:#f92672>`</span>film<span style=color:#f92672>`</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#f92672>`</span>film<span style=color:#f92672>`</span>
</span></span><span style=display:flex><span>(
</span></span><span style=display:flex><span>    <span style=color:#f92672>`</span>id<span style=color:#f92672>`</span>   int(<span style=color:#ae81ff>11</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> AUTO_INCREMENT,
</span></span><span style=display:flex><span>    <span style=color:#f92672>`</span>name<span style=color:#f92672>`</span> varchar(<span style=color:#ae81ff>10</span>) <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> (<span style=color:#f92672>`</span>id<span style=color:#f92672>`</span>),
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>KEY</span> <span style=color:#f92672>`</span>idx_name<span style=color:#f92672>`</span> (<span style=color:#f92672>`</span>name<span style=color:#f92672>`</span>)
</span></span><span style=display:flex><span>) ENGINE <span style=color:#f92672>=</span> InnoDB
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>DEFAULT</span> CHARSET <span style=color:#f92672>=</span> utf8;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#f92672>`</span>film<span style=color:#f92672>`</span> (<span style=color:#f92672>`</span>id<span style=color:#f92672>`</span>, <span style=color:#f92672>`</span>name<span style=color:#f92672>`</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>VALUES</span> (<span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#39;film0&#39;</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;film1&#39;</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;film2&#39;</span>);
</span></span></code></pre></div></section><footer class=post-tags><a href=https://www.vitahlin.com/tags/mysql>mysql</a></footer><nav class=post-nav><a class=prev href=https://www.vitahlin.com/posts/use-clion-and-cmake-build-redis3/><span>←</span><span>macOS上用Clion CMake编译redis 3.0</span></a>
<a class=next href=https://www.vitahlin.com/posts/rust%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%87%E7%BA%A7/><span>rust安装和升级</span><span>→</span></a></nav></article></main><footer class=footer><p>&copy; 2022 <a href=https://www.vitahlin.com/>Vitah Lin</a></p><p>Powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>️</p><p><a href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>Paper 5.1</a></p></footer></body></html>